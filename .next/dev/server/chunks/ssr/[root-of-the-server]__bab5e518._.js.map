{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/(private routes)/profile/ProfilePage.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"avatar\": \"ProfilePage-module__RVJE3a__avatar\",\n  \"avatarWrapper\": \"ProfilePage-module__RVJE3a__avatarWrapper\",\n  \"editProfileButton\": \"ProfilePage-module__RVJE3a__editProfileButton\",\n  \"formTitle\": \"ProfilePage-module__RVJE3a__formTitle\",\n  \"header\": \"ProfilePage-module__RVJE3a__header\",\n  \"mainContent\": \"ProfilePage-module__RVJE3a__mainContent\",\n  \"profileCard\": \"ProfilePage-module__RVJE3a__profileCard\",\n  \"profileInfo\": \"ProfilePage-module__RVJE3a__profileInfo\",\n  \"usernameWrapper\": \"ProfilePage-module__RVJE3a__usernameWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/lib/api/api.ts"],"sourcesContent":["\nimport axios from 'axios';\n\nconst baseURL = `${process.env.NEXT_PUBLIC_API_URL}/api`;\n\nexport const api = axios.create({\n  baseURL: baseURL,\n  withCredentials: true, \n}); "],"names":[],"mappings":";;;;AACA;;AAEA,MAAM,UAAU,6DAAmC,IAAI,CAAC;AAEjD,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/lib/api/serverApi.ts"],"sourcesContent":["import { Note } from \"@/types/note\";\nimport { api } from \"./api\";\nimport { cookies } from \"next/headers\";\nimport { User } from \"@/types/user\";\nimport { AxiosResponse } from \"axios\";\n\ninterface NoteListData {\n  notes: Note[];\n  totalPages: number;\n}\n\n\nexport const fetchNotes = async (\n  search: string,\n  page: number,\n  tag?: string\n): Promise<NoteListData> => {\n  try {\n    const cookieStore = await cookies();\n    const res = await api.get<NoteListData>(\"/notes\", {\n      params: {\n        search,\n        page,\n        perPage: 12,\n        sortBy: \"created\",\n        tag,\n      },\n\n      headers: {\n      Cookie: cookieStore.toString(),\n    },\n    });\n\n    const result = res.data;\n    console.log(result);\n    return result;\n  } catch (error) {\n    console.log(error);\n    return { notes: [], totalPages: 0 };\n  }\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note | null> => {\n  try {\n    const cookieStore = await cookies();\n    const res = await api.get<Note>(`/notes/${id}`, {\n      headers: {\n      Cookie: cookieStore.toString(),\n    },\n    });\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nexport const checkServerSession = async (): Promise<AxiosResponse<User>> => {\n  const cookieStore = await cookies();\n  return api.get<User>(\"/auth/session\", {\n    headers: { Cookie: cookieStore.toString() },\n\n  });\n};\nexport const getMe = async () : Promise<User>=> {\n  const cookieStore = await cookies();\n  const res = await api.get<User>(\"/users/me\", {\n    headers: {\n      Cookie: cookieStore.toString(),\n    },\n  });\n  return res.data;\n};\n\n\n// export const getUserServer = async () => {\n//   try {\n//     const cookieStore = cookies();\n//     const res = await api.get<User>(\"/users/me\", {\n     \n//       headers: {\n//         Cookie: cookieStore.toString(),\n//       },\n//     });\n//     return res.data;\n//   } catch (err) {\n//     console.error(\"Failed to fetch user on server:\", err);\n//     return null;\n//   }\n// };\nexport const getUserServer = async (): Promise<User | null> => {\n  try {\n    const cookieStore = await cookies();\n\n    // cookieStore.getAll() повертає масив об'єктів { name, value }\n    const cookieHeader = cookieStore\n      .getAll()\n      .map((c) => `${c.name}=${c.value}`)\n      .join(\"; \");\n\n    const res = await api.get<User>(\"/users/me\", {\n      headers: {\n        Cookie: cookieHeader,\n      },\n    });\n\n    return res.data;\n  } catch (err) {\n    console.error(\"Failed to fetch user on server:\", err);\n    return null;\n  }\n};"],"names":[],"mappings":";;;;;;;;;;;;AACA;AACA;;;AAUO,MAAM,aAAa,OACxB,QACA,MACA;IAEA,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAe,UAAU;YAChD,QAAQ;gBACN;gBACA;gBACA,SAAS;gBACT,QAAQ;gBACR;YACF;YAEA,SAAS;gBACT,QAAQ,YAAY,QAAQ;YAC9B;QACA;QAEA,MAAM,SAAS,IAAI,IAAI;QACvB,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,OAAO,EAAE;YAAE,YAAY;QAAE;IACpC;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI,EAAE;YAC9C,SAAS;gBACT,QAAQ,YAAY,QAAQ;YAC9B;QACA;QACA,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;AACF;AAEO,MAAM,qBAAqB;IAChC,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,OAAO,wHAAG,CAAC,GAAG,CAAO,iBAAiB;QACpC,SAAS;YAAE,QAAQ,YAAY,QAAQ;QAAG;IAE5C;AACF;AACO,MAAM,QAAQ;IACnB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAO,aAAa;QAC3C,SAAS;YACP,QAAQ,YAAY,QAAQ;QAC9B;IACF;IACA,OAAO,IAAI,IAAI;AACjB;AAkBO,MAAM,gBAAgB;IAC3B,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,0IAAO;QAEjC,+DAA+D;QAC/D,MAAM,eAAe,YAClB,MAAM,GACN,GAAG,CAAC,CAAC,IAAM,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EACjC,IAAI,CAAC;QAER,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAO,aAAa;YAC3C,SAAS;gBACP,QAAQ;YACV;QACF;QAEA,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/app/%28private%20routes%29/profile/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport css from \"./ProfilePage.module.css\";\nimport Image from \"next/image\";\nimport { getUserServer } from \"@/lib/api/serverApi\";\nimport { Metadata } from \"next\";\n\nexport const metadata: Metadata = {\n  title: \"User Profile | NoteHub\",\n  description: \"View and manage your personal profile information in NoteHub.\",\n  openGraph: {\n    title: \"User Profile | NoteHub\",\n    description:\n      \"Manage your profile information, avatar, and account settings on NoteHub.\",\n    url: \"https://notehub.com/profile\",\n    images: [\n      {\n        url: \"https://ac.goit.global/fullstack/react/notehub-og-meta.jpg\",\n        width: 1200,\n        height: 630,\n        alt: \"NoteHub Profile\",\n      },\n    ],\n  },\n};\n\nexport default async function ProfilePage() {\n\n  const user = await getUserServer();\n\n  const avatar =\n    user?.avatar ||\n    \"https://ac.goit.global/fullstack/react/default-avatar.jpg\";\n\n  return (\n    <div>\n      <main className={css.mainContent}>\n        <div className={css.profileCard}>\n          <div className={css.header}>\n            <h1 className={css.formTitle}>Profile Page</h1>\n            <Link href=\"/profile/edit\" className={css.editProfileButton}>\n              Edit Profile\n            </Link>\n          </div>\n\n          <div className={css.avatarWrapper}>\n            <Image\n              src={avatar}\n              alt=\"User Avatar\"\n              width={120}\n              height={120}\n              className={css.avatar}\n            />\n          </div>\n\n          <div className={css.profileInfo}>\n            <p>Username: {user?.username}</p>\n            <p>Email: {user?.email}</p>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAGO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;IACb,WAAW;QACT,OAAO;QACP,aACE;QACF,KAAK;QACL,QAAQ;YACN;gBACE,KAAK;gBACL,OAAO;gBACP,QAAQ;gBACR,KAAK;YACP;SACD;IACH;AACF;AAEe,eAAe;IAE5B,MAAM,OAAO,MAAM,IAAA,wIAAa;IAEhC,MAAM,SACJ,MAAM,UACN;IAEF,qBACE,8OAAC;kBACC,cAAA,8OAAC;YAAK,WAAW,2KAAG,CAAC,WAAW;sBAC9B,cAAA,8OAAC;gBAAI,WAAW,2KAAG,CAAC,WAAW;;kCAC7B,8OAAC;wBAAI,WAAW,2KAAG,CAAC,MAAM;;0CACxB,8OAAC;gCAAG,WAAW,2KAAG,CAAC,SAAS;0CAAE;;;;;;0CAC9B,8OAAC,0LAAI;gCAAC,MAAK;gCAAgB,WAAW,2KAAG,CAAC,iBAAiB;0CAAE;;;;;;;;;;;;kCAK/D,8OAAC;wBAAI,WAAW,2KAAG,CAAC,aAAa;kCAC/B,cAAA,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAW,2KAAG,CAAC,MAAM;;;;;;;;;;;kCAIzB,8OAAC;wBAAI,WAAW,2KAAG,CAAC,WAAW;;0CAC7B,8OAAC;;oCAAE;oCAAW,MAAM;;;;;;;0CACpB,8OAAC;;oCAAE;oCAAQ,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM7B","debugId":null}}]
}