{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/(private routes)/profile/edit/EditProfilePage.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"EditProfilePage-module__XoJWpq__actions\",\n  \"avatar\": \"EditProfilePage-module__XoJWpq__avatar\",\n  \"cancelButton\": \"EditProfilePage-module__XoJWpq__cancelButton\",\n  \"formTitle\": \"EditProfilePage-module__XoJWpq__formTitle\",\n  \"input\": \"EditProfilePage-module__XoJWpq__input\",\n  \"mainContent\": \"EditProfilePage-module__XoJWpq__mainContent\",\n  \"profileCard\": \"EditProfilePage-module__XoJWpq__profileCard\",\n  \"profileInfo\": \"EditProfilePage-module__XoJWpq__profileInfo\",\n  \"saveButton\": \"EditProfilePage-module__XoJWpq__saveButton\",\n  \"usernameWrapper\": \"EditProfilePage-module__XoJWpq__usernameWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/app/%28private%20routes%29/profile/edit/page.tsx"],"sourcesContent":["\"use client\";\nimport css from \"./EditProfilePage.module.css\";\nimport Image from \"next/image\";\nimport { useAuthStore } from \"@/lib/store/authStore\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { updateUser } from \"@/lib/api/clientApi\";\n\nconst EditProfilePage = () => {\n  const user = useAuthStore((s) => s.user);\n  const setUser = useAuthStore((s) => s.setUser);\n  const router = useRouter();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    const updatedUsername = formData.get(\"username\") as string;\n\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const updatedUser = await updateUser({ username: updatedUsername });\n\n      // оновлюємо Zustand\n      setUser(updatedUser);\n\n      router.push(\"/profile\");\n    } catch (error) {\n      setError('Ooops error');\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    router.push(\"/profile\");\n  };\n\n  return (\n    <main className={css.mainContent}>\n      <div className={css.profileCard}>\n        <h1 className={css.formTitle}>Edit Profile</h1>\n\n        <Image\n          src=\"https://ac.goit.global/fullstack/react/default-avatar.jpg\"\n          alt=\"User Avatar\"\n          width={120}\n          height={120}\n          className={css.avatar}\n        />\n\n        <form className={css.profileInfo} onSubmit={handleSubmit}>\n          <div className={css.usernameWrapper}>\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              id=\"username\"\n              name=\"username\"\n              type=\"text\"\n              className={css.input}\n              defaultValue={user?.username}\n            />\n          </div>\n\n          <p>{user?.email}</p>\n\n          {error && <p className={css.error}>{error}</p>}\n\n          <div className={css.actions}>\n            <button type=\"submit\" className={css.saveButton} disabled={loading}>\n              {loading ? \"Saving...\" : \"Save\"}\n            </button>\n            <button\n              type=\"button\"\n              className={css.cancelButton}\n              onClick={handleCancel}\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </main>\n  );\n};\n\nexport default EditProfilePage;\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQA,MAAM,kBAAkB;IACtB,MAAM,OAAO,IAAA,yIAAY,EAAC,CAAC,IAAM,EAAE,IAAI;IACvC,MAAM,UAAU,IAAA,yIAAY,EAAC,CAAC,IAAM,EAAE,OAAO;IAC7C,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,MAAM,WAAW,IAAI,SAAS,EAAE,aAAa;QAC7C,MAAM,kBAAkB,SAAS,GAAG,CAAC;QAErC,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,cAAc,MAAM,IAAA,qIAAU,EAAC;gBAAE,UAAU;YAAgB;YAEjE,oBAAoB;YACpB,QAAQ;YAER,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,SAAS;YACT,QAAQ,GAAG,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe;QACnB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAK,WAAW,uLAAG,CAAC,WAAW;kBAC9B,cAAA,8OAAC;YAAI,WAAW,uLAAG,CAAC,WAAW;;8BAC7B,8OAAC;oBAAG,WAAW,uLAAG,CAAC,SAAS;8BAAE;;;;;;8BAE9B,8OAAC,wIAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAW,uLAAG,CAAC,MAAM;;;;;;8BAGvB,8OAAC;oBAAK,WAAW,uLAAG,CAAC,WAAW;oBAAE,UAAU;;sCAC1C,8OAAC;4BAAI,WAAW,uLAAG,CAAC,eAAe;;8CACjC,8OAAC;oCAAM,SAAQ;8CAAW;;;;;;8CAC1B,8OAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,WAAW,uLAAG,CAAC,KAAK;oCACpB,cAAc,MAAM;;;;;;;;;;;;sCAIxB,8OAAC;sCAAG,MAAM;;;;;;wBAET,uBAAS,8OAAC;4BAAE,WAAW,uLAAG,CAAC,KAAK;sCAAG;;;;;;sCAEpC,8OAAC;4BAAI,WAAW,uLAAG,CAAC,OAAO;;8CACzB,8OAAC;oCAAO,MAAK;oCAAS,WAAW,uLAAG,CAAC,UAAU;oCAAE,UAAU;8CACxD,UAAU,cAAc;;;;;;8CAE3B,8OAAC;oCACC,MAAK;oCACL,WAAW,uLAAG,CAAC,YAAY;oCAC3B,SAAS;8CACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;uCAEe","debugId":null}}]
}