{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/components/TanStackProvider/TanStackProvider.tsx"],"sourcesContent":["// components/TanStackProvider/TanStackProvider.tsx\n\n\"use client\";\n\nimport { useState } from \"react\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst TanStackProvider = ({ children }: Props) => {\n  const [queryClient] = useState(() => new QueryClient());\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n    </QueryClientProvider>\n  );\n};\n\nexport default TanStackProvider;"],"names":["c","_c","useState","QueryClient","QueryClientProvider","Props","children","React","ReactNode","TanStackProvider","t0","$","$i","Symbol","for","queryClient","_temp","t1"],"mappings":"AAAA,mDAAA;;;;;;AAEa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,QAAQ,QAAQ,OAAO;;AAChC,SAASC,WAAW,EAAEC,mBAAmB,QAAQ,uBAAuB;;;AAHxE,YAAY;;;;AASZ,0BAAyBM,EAAA;;IAAA,MAAAC,CAAA,OAAAV,gLAAA,EAAA;IAAA,IAAAU,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAL,QAAAA,EAAA,GAAAI,EAAmB;IAC3C,MAAA,CAAAK,WAAA,CAAA,OAAsBb,yKAAQ,EAACc,KAAuB,CAAC;IAAC,IAAAC,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAL,QAAA,IAAAK,CAAA,CAAA,EAAA,KAAAI,WAAA,EAAA;QAGtDE,EAAA,iBAAA,6LAAC,gNAAmB;YAASF,MAAW,CAAXA,CAAAA,WAAU,CAAC,CACrCT;sBAAAA,QAAO,CACV,EAFC,mBAAmB,CAEE;;;;;;QAAAK,CAAA,CAAA,EAAA,GAAAL,QAAA;QAAAK,CAAA,CAAA,EAAA,GAAAI,WAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,OAFtBM,EAEsB;AAAA,CAEzB;;KARKR,gBAAgB;uCAUPA,gBAAgB;AAVN,SAAAO,MAAA;IAAA,OACc,IAAIb,+LAAW,CAAC,CAAC;AAAA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Header/Header.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"header\": \"Header-module__arFiJq__header\",\n  \"navigation\": \"Header-module__arFiJq__navigation\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthNavigation/AuthNavigation.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"logoutButton\": \"AuthNavigation-module__DN8toa__logoutButton\",\n  \"navigationItem\": \"AuthNavigation-module__DN8toa__navigationItem\",\n  \"navigationLink\": \"AuthNavigation-module__DN8toa__navigationLink\",\n  \"userEmail\": \"AuthNavigation-module__DN8toa__userEmail\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/lib/store/authStore.ts"],"sourcesContent":["import { User } from \"@/types/user\";\nimport { persist } from \"zustand/middleware\";\nimport { create } from \"zustand/react\";\n\nexport type AuthStore = {\n  user: User | null;\n  isAuthenticated: boolean;\n  setUser: (user: User) => void;\n  clearIsAuthenticated: () => void;\n};\n\nexport const useAuthStore = create<AuthStore>()(\n  persist(\n    (set) => ({\n      user: null,\n      isAuthenticated: false,\n      setUser: (user: User) => {\n        set({ user, isAuthenticated: true });\n      },\n      clearIsAuthenticated: () => {\n        set({ user: null, isAuthenticated: false });\n      },\n    }),\n    {\n      name: \"auth-storage\", \n    }\n  )\n);\n"],"names":[],"mappings":";;;;AACA;AACA;;;AASO,MAAM,eAAe,IAAA,qJAAM,IAChC,IAAA,2JAAO,EACL,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,iBAAiB;QACjB,SAAS,CAAC;YACR,IAAI;gBAAE;gBAAM,iBAAiB;YAAK;QACpC;QACA,sBAAsB;YACpB,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;QAC3C;IACF,CAAC,GACD;IACE,MAAM;AACR","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/lib/api/api.ts"],"sourcesContent":["\nimport axios from 'axios';\n\nconst baseURL = `${process.env.NEXT_PUBLIC_API_URL}/api`;\n\nexport const api = axios.create({\n  baseURL: baseURL,\n  withCredentials: true, \n}); "],"names":[],"mappings":";;;;AAGmB;AAFnB;;AAEA,MAAM,UAAU,6DAAmC,IAAI,CAAC;AAEjD,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/lib/api/clientApi.ts"],"sourcesContent":["import { NewNote, Note } from \"@/types/note\";\nimport { api } from \"./api\";\nimport { User } from \"@/types/user\";\nimport { AxiosError } from \"axios\";\n\ninterface NoteListData {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport type RegisterRequest = {\n  email: string;\n  password: string;\n  username?: string;\n};\n\nexport type LoginRequest = {\n  email: string;\n  password: string;\n};\n\ninterface UpdateUserRequest {\n  username?: string;\n  email?: string;\n  avatar?: string;\n}\n\n\nexport const fetchNotes = async (\n  search: string,\n  page: number,\n  tag?: string\n): Promise<NoteListData> => {\n  const res = await api.get<NoteListData>(\"/notes\", {\n    params: { search, page, perPage: 12, sortBy: \"created\", tag },\n    withCredentials: true,\n  });\n  return res.data;\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note> => {\n  const res = await api.get<Note>(`/notes/${id}`, { withCredentials: true });\n  return res.data;\n};\n\nexport const createNote = async (values: NewNote): Promise<Note> => {\n  const res = await api.post<Note>(\"/notes\", values, { withCredentials: true });\n  return res.data;\n};\n\nexport const deleteNote = async (noteId: string): Promise<Note> => {\n  const res = await api.delete<Note>(`/notes/${noteId}`, { withCredentials: true });\n  return res.data;\n};\n\nexport const register = async (data: RegisterRequest): Promise<User> => {\n  try {\n    const res = await api.post<User>(\"/auth/register\", data, { withCredentials: true });\n    return res.data;\n  } catch (error) {\n    const err = error as AxiosError<{ error: string }>;\n    throw new Error(err.response?.data?.error || \"Registration failed\");\n  }\n};\n\nexport const login = async (data: LoginRequest): Promise<User> => {\n  try {\n    const res = await api.post<User>(\"/auth/login\", data, { withCredentials: true });\n    return res.data;\n  } catch (error) {\n    const err = error as AxiosError<{ error: string }>;\n    throw new Error(err.response?.data?.error || \"Login failed\");\n  }\n};\n\n// export const checkClientSession = async (): Promise<boolean> => {\n//   try {\n//     const res = await api.get<{ valid: boolean }>(\"/auth/session\", { withCredentials: true });\n//     return res.data.valid;\n//   } catch {\n//     return false;\n//   }\n// };\n\nexport const checkClientSession = async () => {\n  const res = await api.get(\"/auth/session\", { withCredentials: true });\n  return res.data; \n};\n\n\nexport const updateUser = async (data: UpdateUserRequest): Promise<User> => {\n  const res = await api.patch<User>(\"/users/me\", data, { withCredentials: true });\n  return res.data;\n};\n\nexport const logout = async (): Promise<void> => {\n  await api.post(\"/auth/logout\", {}, { withCredentials: true });\n};\n\nexport const getUser = async (): Promise<User> => {\n  const res = await api.get<User>(\"/users/me\", { withCredentials: true });\n  return res.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA;;AA2BO,MAAM,aAAa,OACxB,QACA,MACA;IAEA,MAAM,MAAM,MAAM,2HAAG,CAAC,GAAG,CAAe,UAAU;QAChD,QAAQ;YAAE;YAAQ;YAAM,SAAS;YAAI,QAAQ;YAAW;QAAI;QAC5D,iBAAiB;IACnB;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,MAAM,MAAM,2HAAG,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI,EAAE;QAAE,iBAAiB;IAAK;IACxE,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,2HAAG,CAAC,IAAI,CAAO,UAAU,QAAQ;QAAE,iBAAiB;IAAK;IAC3E,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,2HAAG,CAAC,MAAM,CAAO,CAAC,OAAO,EAAE,QAAQ,EAAE;QAAE,iBAAiB;IAAK;IAC/E,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,WAAW,OAAO;IAC7B,IAAI;QACF,MAAM,MAAM,MAAM,2HAAG,CAAC,IAAI,CAAO,kBAAkB,MAAM;YAAE,iBAAiB;QAAK;QACjF,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,MAAM,MAAM;QACZ,MAAM,IAAI,MAAM,IAAI,QAAQ,EAAE,MAAM,SAAS;IAC/C;AACF;AAEO,MAAM,QAAQ,OAAO;IAC1B,IAAI;QACF,MAAM,MAAM,MAAM,2HAAG,CAAC,IAAI,CAAO,eAAe,MAAM;YAAE,iBAAiB;QAAK;QAC9E,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,MAAM,MAAM;QACZ,MAAM,IAAI,MAAM,IAAI,QAAQ,EAAE,MAAM,SAAS;IAC/C;AACF;AAWO,MAAM,qBAAqB;IAChC,MAAM,MAAM,MAAM,2HAAG,CAAC,GAAG,CAAC,iBAAiB;QAAE,iBAAiB;IAAK;IACnE,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,2HAAG,CAAC,KAAK,CAAO,aAAa,MAAM;QAAE,iBAAiB;IAAK;IAC7E,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,SAAS;IACpB,MAAM,2HAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG;QAAE,iBAAiB;IAAK;AAC7D;AAEO,MAAM,UAAU;IACrB,MAAM,MAAM,MAAM,2HAAG,CAAC,GAAG,CAAO,aAAa;QAAE,iBAAiB;IAAK;IACrE,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/components/AuthNavigation/AuthNavigation.tsx"],"sourcesContent":["\"use client\";\nimport Link from \"next/link\";\nimport css from \"./AuthNavigation.module.css\";\nimport { useAuthStore } from \"@/lib/store/authStore\";\nimport { useRouter } from \"next/navigation\";\nimport { logout } from \"@/lib/api/clientApi\";\n\nexport const AuthNavigation = () => {\n  const router = useRouter();\n  const isAuthenticated = useAuthStore((state) => state.isAuthenticated);\n  const user = useAuthStore((state) => state.user);\n  const clearIsAuthenticated = useAuthStore(\n    (state) => state.clearIsAuthenticated\n  );\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      clearIsAuthenticated();\n      router.push(\"/sign-in\");\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n  return (\n    <>\n      {isAuthenticated ? (\n        <>\n          <li className={css.navigationItem}>\n            <Link\n              href=\"/profile\"\n              prefetch={false}\n              className={css.navigationLink}\n            >\n              Profile\n            </Link>\n          </li>\n\n          <li className={css.navigationItem}>\n            <p className={css.userEmail}>{user?.email}</p>\n            <button className={css.logoutButton} onClick={handleLogout}>\n              Logout\n            </button>\n          </li>\n        </>\n      ) : (\n        <>\n          <li className={css.navigationItem}>\n            <Link\n              href=\"/sign-in\"\n              prefetch={false}\n              className={css.navigationLink}\n            >\n              Login\n            </Link>\n          </li>\n\n          <li className={css.navigationItem}>\n            <Link\n              href=\"/sign-up\"\n              prefetch={false}\n              className={css.navigationLink}\n            >\n              Sign up\n            </Link>\n          </li>\n        </>\n      )}\n    </>\n  );\n};\n"],"names":["c","_c","Link","css","useAuthStore","useRouter","logout","AuthNavigation","$","$i","Symbol","for","router","isAuthenticated","_temp","user","_temp2","clearIsAuthenticated","_temp3","t0","push","t1","error","console","handleLogout","email","navigationItem","navigationLink","userEmail","logoutButton","state","state_0","state_1"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/components/Header/Header.tsx"],"sourcesContent":["\"use client\"\nimport Link from \"next/link\";\nimport css from \"./Header.module.css\";\nimport { AuthNavigation } from \"../AuthNavigation/AuthNavigation\";\n\nconst Header = () => {\n  return (\n    <header className={css.header}>\n      <Link href=\"/\" aria-label=\"Home\">\n        NoteHub\n      </Link>\n      <nav aria-label=\"Main Navigation\">\n        <ul className={css.navigation}>\n          <li>\n            <Link href=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link href=\"/notes/filter/all\">Notes</Link>\n          </li>\n          <AuthNavigation/>\n        </ul>\n        \n      </nav>\n    </header>\n  );\n};\n\nexport default Header;"],"names":["c","_c","Link","css","AuthNavigation","Header","$","$i","Symbol","for","t0","t1","header","navigation"],"mappings":";;;;;AAAY,SAAAA,CAAA,IAAAC,EAAA;AACZ,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,GAAG,MAAM,qBAAqB;AACrC,SAASC,cAAc,QAAQ,kCAAkC;AAHjE,YAAY;;;;;;AAKZ,eAAeC,CAAA;IAAA,MAAAC,CAAA,OAAAL,gLAAA,EAAA;IAAA,IAAAK,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGTC,EAAA,iBAAA,6LAAC,0KAAI;YAAM,IAAG,EAAH,GAAG;YAAY,UAAM,IAAN,MAAM;sBAAC,OAEjC,EAFC,IAAI,CAEE;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAK,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAHTE,EAAA,iBAAA,6LAAA,MAgBS;YAhBU,SAAU,CAAV,CAAAR,wJAAG,CAAAS,MAAM,CAAC,CAC3B;;gBAAAF,EAEM;8BACN,6LAAA,GAWM;oBAXU,UAAiB,IAAjB,iBAAiB;4CAC/B,6LAAA,EAQK;wBARU,SAAc,CAAd,CAAAP,wJAAG,CAAAU,UAAU,CAAC;;0CAC3B,6LAAA,EAEK;wDADH,6LAAC,0KAAI;oCAAM,IAAG,EAAH,GAAG;8CAAC,IAAI,EAAlB,IAAI,CACP,EAFA,EAEK;;;;;;;;;;;0CACL,6LAAA,EAEK;wDADH,6LAAC,0KAAI;oCAAM,IAAmB,EAAnB,mBAAmB;8CAAC,KAAK,EAAnC,IAAI,CACP,EAFA,EAEK;;;;;;;;;;;0CACL,6LAAC,oKAAc,GACjB,EARA,EAQK,CAEP,EAXA,GAWM,CACR,EAhBA,MAgBS;;;;;;;;;;;;;;;;;;;;;;QAAAP,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,OAhBTK,EAgBS;AAAA,CAEZ;KApBKN,MAAM;uCAsBGA,MAAM","ignoreList":[],"debugId":null}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/GitHub/09-auth/components/AuthProvider/AuthProvider.tsx"],"sourcesContent":["\"use client\";\nimport { checkClientSession, getUser } from \"@/lib/api/clientApi\";\nimport { useAuthStore } from \"@/lib/store/authStore\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { ReactNode, useEffect } from \"react\";\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nconst PRIVATE_ROUTES = [\"/profile\"];\nconst PUBLIC_ROUTES = [\"/sign-in\", \"/register\"];\n\nconst AuthProvider = ({ children }: AuthProviderProps) => {\n  const router = useRouter();\n  const pathname = usePathname();\n\n  const setUser = useAuthStore((s) => s.setUser);\n  const clearIsAuthenticated = useAuthStore((s) => s.clearIsAuthenticated);\n\n  useEffect(() => {\n    const verifyAuth = async () => {\n      try {\n        const sessionValid = await checkClientSession();\n        console.log(\"pathname:\", pathname);\n        console.log(\"sessionValid:\", sessionValid);\n\n        if (sessionValid) {\n          const user = await getUser();\n          setUser(user);\n\n          // Не редіректимо з логіну, якщо вже залогінений\n          if (PUBLIC_ROUTES.includes(pathname)) {\n            router.push(\"/\");\n          }\n        } else {\n          clearIsAuthenticated();\n          // Редірект лише для приватних маршрутів\n          if (\n            PRIVATE_ROUTES.some((r) => pathname.startsWith(r)) &&\n            !PUBLIC_ROUTES.includes(pathname)\n          ) {\n            router.push(\"/sign-in\");\n          }\n        }\n      } catch (err) {\n        clearIsAuthenticated();\n        if (\n          PRIVATE_ROUTES.some((r) => pathname.startsWith(r)) &&\n          !PUBLIC_ROUTES.includes(pathname)\n        ) {\n          router.push(\"/sign-in\");\n        }\n      }\n    };\n\n    verifyAuth();\n  }, [pathname, router, setUser, clearIsAuthenticated]);\n\n  return children;\n};\n\nexport default AuthProvider;\n"],"names":["checkClientSession","getUser","useAuthStore","usePathname","useRouter","ReactNode","useEffect","AuthProviderProps","children","PRIVATE_ROUTES","PUBLIC_ROUTES","AuthProvider","router","pathname","setUser","s","clearIsAuthenticated","verifyAuth","sessionValid","console","log","user","includes","push","some","r","startsWith","err"],"mappings":";;;;AACA,SAASA,kBAAkB,EAAEC,OAAO,QAAQ,qBAAqB;AACjE,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,SAAS,EAAEC,SAAS,QAAQ,OAAO;;AAJ5C,YAAY;;;;;AAUZ,MAAMG,cAAc,GAAG;IAAC,UAAU;CAAC;AACnC,MAAMC,aAAa,GAAG;IAAC,UAAU;IAAE,WAAW;CAAC;AAE/C,qBAAqBC,CAAC,EAAEH,QAAAA,EAA6B,KAAK;;IACxD,MAAMI,MAAM,yJAAY,CAAC,CAAC;IAC1B,MAAMC,QAAQ,OAAGV;IAEjB,MAAMW,OAAO;+CAAiBC,CAAC,GAAKA,CAAC,CAACD,OAAO,CAAC;;IAC9C,MAAME,oBAAoB;4DAAiBD,GAAC,GAAKA,GAAC,CAACC,oBAAoB,CAAC;;QAExEV,0KAAS;kCAAC,MAAM;YACd,MAAMW,UAAU;qDAAG,MAAAA,CAAA,KAAY;oBAC7B,IAAI;wBACF,MAAMC,YAAY,GAAG,UAAMlB,gJAAkB,CAAC,CAAC;wBAC/CmB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEP,QAAQ,CAAC;wBAClCM,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,YAAY,CAAC;wBAE1C,IAAIA,YAAY,EAAE;4BAChB,MAAMG,IAAI,GAAG,UAAMpB,qIAAO,CAAC,CAAC;4BAC5Ba,OAAO,CAACO,IAAI,CAAC;4BAEb,gDAAA;4BACA,IAAIX,aAAa,CAACY,QAAQ,CAACT,QAAQ,CAAC,EAAE;gCACpCD,MAAM,CAACW,IAAI,CAAC,GAAG,CAAC;4BAClB;wBACF,CAAC,MAAM;4BACLP,oBAAoB,CAAC,CAAC;4BACtB,wCAAA;4BACA,IACEP,cAAc,CAACe,IAAI;sEAAEC,GAAC,GAAKZ,QAAQ,CAACa,UAAU,CAACD,GAAC,CAAC,CAAC;uEAClD,CAACf,aAAa,CAACY,QAAQ,CAACT,QAAQ,CAAC,EACjC;gCACAD,MAAM,CAACW,IAAI,CAAC,UAAU,CAAC;4BACzB;wBACF;oBACF,CAAC,CAAC,OAAOI,GAAG,EAAE;wBACZX,oBAAoB,CAAC,CAAC;wBACtB,IACEP,cAAc,CAACe,IAAI;kEAAEC,CAAC,GAAKZ,QAAQ,CAACa,UAAU,CAACD,CAAC,CAAC,CAAC;mEAClD,CAACf,aAAa,CAACY,QAAQ,CAACT,QAAQ,CAAC,EACjC;4BACAD,MAAM,CAACW,IAAI,CAAC,UAAU,CAAC;wBACzB;oBACF;gBACF,CAAC;;YAEDN,UAAU,CAAC,CAAC;QACd,CAAC;iCAAE;QAACJ,QAAQ;QAAED,MAAM;QAAEE,OAAO;QAAEE,oBAAoB;KAAC,CAAC;IAErD,OAAOR,QAAQ;AACjB,CAAC;;;QA9CgBJ;4JACa,CAAC,CAAC;QAEdF,4IAAY;QACCA,4IAAY;;;KALrCS,YAAY;uCAiDHA,YAAY","ignoreList":[],"debugId":null}}]
}